# Match-three CLI

Консольная версия знаменитой игры ["Три-в-ряд"](https://ru.wikipedia.org/wiki/%D0%A2%D1%80%D0%B8_%D0%B2_%D1%80%D1%8F%D0%B4)
ASCII графика.
Приложение запускается из консоли.
Отрисовывается сетка 8x8 клеток, содержащая элементы A, B, C, D, E.
Игрок вводит каждый ход координаты клеток, которые нужно поменять местами.
Поменяные местами элементы должны образовать ряд из минимум 3 элементов.
Выстроенные в ряд элементы унтичтожаются, на их место смещаются элементы сверху.
Различные комбинации элементов дают разное количество очков.


## 0. Описание Элементов системы


### 1.MatrixUI

- Отрисовывает Интерфейс пользователя в консоли исходя из состояния игры.
(при ходе игрока изменения могут выподиться сразу результирующие, или пошагово).
- Даёт интерфейс ввода ходов в консоль.
- (Потенциально, даёт пользователю курсор для переставления элементов)

### 2. MatrixState

Содержит текущее состояние игры (в виде 2-мерного массива элементов).

### 3. Rules

Управляет логикой протекания игры:
- Наполняет матрицу случайными элементами (если сразу нет валидных ходов, пересоздает).
- Следит, чтобы существовали потенциальные ходы, если таких нет, передаёт в `event` конец игры.
- Следит, чтобы ходы игрока были валидные.

### 4. Event

- Заканчивает игру, если нет валидных ходов.
- Оценивает ход, сколько элементов было уничтожено, передаёт результат в бонусы.
- Удаляет элементы после ввода игрока, и осуществляет сдвиг элементов и создание новых
на их место (сразу или пошагово).

### 5. Bonuses

- Получает результат хода от Event, по своим правилам оценивает стоимость хода,
передаёт статистику.

### 6. Statistics

- Содержит количество очков игрока.
- Содержит количество ходов игрока и их историю.
- Увеличивает очки, исходя из оценки "стоимости" хода с бонусами.


## Дополнительно

Управление не через ввод координат, а по выбору курсором.
Цветные элементы в консоли.


## 1. Определяем границы разрабатываемой системы

### 1.1 Что будет включено в систему, а что точно не надо в неё включать;

Включаем:

- Пользовательский интерфейс в CLI с ASCII графикой.
- Управление через консольный ввод.
- Управление логикой игры с возможностью добавления правил (для бонусов например).
- Система очков с бонусами.
- Возможность сохранения / сохранение ходов игрока.

НЕ включаем:

- Анимации ходов.
- Сложная графика.
- Сложный UI с панелями и меню.
- Какие-либо особенности Python при работе с CLI?

### 1.2 Главные подсистемы;

- Пользовательский UI / Вывод на экран.
- Логика поведения игры.
- Логика подсчёта очков / статистика.
- Логики запоминания ходов.

### 1.3 Пользовательские метафоры (что именно пользователь/заказчик понимает под тем, что в рамках проекта он называет, например, "Автомобиль" или "Товар" или "Клиент");

- "Игра" - одна сессия, в течении которой пользователь играет, пока не закончатся ходы или он сам не прервет игру.
- "Поле" - графическое отображение поля с игрой, которое состоит из матрицы 8х8 элементов.
- "Ячейка" - элемент поля, который содержит шары. 
- "Шар" - элемент в ячейки поля соответствующего типа (A, B, C, D, E), который пользователь может двигать,
чтобы собирать шары в комбинации и получать очки.
- "Ход" - обмен местами 2 шаров в соседних ячейках игроком. Каждый ход должен быть комбинацией.
Если комбинаций нет, игра заканчивается.
- "Комбинация" - выстраивание игроком шаров одного типа в ряд, начиная от 3-х. Более сложные комбинации дают (4 в ряд, перекрестие и т.д.
дают бонусы).
- "Очки" - очки получаемые за комбинации шаров.
- "Бонус" - получение увеличенного количества очков для сложных комбинаций.

### 1.4 Функциональность;

- Запуск игры.
- Сделать ход (при возможности).
- Закончить игру.
- Начать игру сначала.
- Вывести количество очков.
- (опц.) сохранить игру.
- (опц.) вывевсти таблицу лучших результатов / игроков.

### 1.5 Библиотеки повторного использования.

- Всё что связано с UI для консоли с ASCII графикой может быть переиспользовано.
- Поведение игры в походовом режиме можно переиспользовать в других играх в CLI.
- Запоминание ходов игроком, сохранение игры можно переиспользовать в общем для игр.


